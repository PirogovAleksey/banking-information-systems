<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–º–∞ 2: Message Queues —Ç–∞ Event-Driven Architecture</title>
    <link rel="stylesheet" href="../../../../assets/css/slides.css">
</head>
<body class="slides-page">
<div class="slides-wrapper">
    <!-- Navigation -->
    <div class="slide-navigation">
        <button class="slide-btn" onclick="previousSlide()">‚óÄ</button>
        <span class="slide-counter" id="slideCounter">1 / 12</span>
        <button class="slide-btn" onclick="nextSlide()">‚ñ∂</button>
        <button class="slide-btn" onclick="toggleFullscreen()">‚õ∂</button>
        <button class="slide-btn" onclick="exitPresentation()">‚úï</button>
    </div>

    <!-- Progress Bar -->
    <div class="slide-progress">
        <div class="slide-progress-bar" id="progressBar" style="width: 8.33%;"></div>
    </div>

    <!-- Slide 1: Title -->
    <div class="slide active" id="slide1">
        <div class="slide-container">
            <div class="slide-title">
                <h1>Message Queues —Ç–∞ Event-Driven Architecture</h1>
                <div class="subtitle">Async Communication in Banking Systems</div>
                <div class="content">
                    <p><strong>–ú–æ–¥—É–ª—å 2:</strong> Core Banking Systems</p>
                    <p><strong>–õ–µ–∫—Ü—ñ—è 2.2:</strong> –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è CBS –∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</p>
                    <p><strong>–¢–µ–º–∞ 2</strong></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 2: Apache Kafka Architecture -->
    <div class="slide" id="slide2">
        <div class="slide-container">
            <div class="slide-content">
                <h2>Apache Kafka –¥–ª—è –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö —Å–∏—Å—Ç–µ–º</h2>
                <h3>Distributed Event Streaming Platform</h3>
                <div style="margin: 20px 0;">
                    <h4>–ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                        <div style="background: rgba(100,255,218,0.2); padding: 15px; border-radius: 8px;">
                            <h4>Producers</h4>
                            <ul class="slide-list">
                                <li>–ü—É–±–ª—ñ–∫—É—é—Ç—å –ø–æ–¥—ñ—ó –≤ topics</li>
                                <li>Partitioning –ø–æ –∫–ª—é—á—É</li>
                                <li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –∞–±–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞</li>
                                <li>Compression (gzip, snappy, lz4)</li>
                            </ul>
                        </div>
                        <div style="background: rgba(255,100,100,0.2); padding: 15px; border-radius: 8px;">
                            <h4>Brokers</h4>
                            <ul class="slide-list">
                                <li>–ó–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–æ–¥—ñ—ó –≤ log</li>
                                <li>Replication factor (3-5)</li>
                                <li>Partition leader election</li>
                                <li>Retention policy (days/size)</li>
                            </ul>
                        </div>
                        <div style="background: rgba(255,255,100,0.2); padding: 15px; border-radius: 8px;">
                            <h4>Consumers</h4>
                            <ul class="slide-list">
                                <li>Consumer groups</li>
                                <li>Offset management</li>
                                <li>At-least-once delivery</li>
                                <li>Rebalancing</li>
                            </ul>
                        </div>
                        <div style="background: rgba(255,100,255,0.2); padding: 15px; border-radius: 8px;">
                            <h4>Zookeeper / KRaft</h4>
                            <ul class="slide-list">
                                <li>Cluster coordination</li>
                                <li>Leader election</li>
                                <li>Config management</li>
                                <li>KRaft = ZooKeeper replacement</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="alert alert-info">
                    <strong>Performance:</strong> Kafka –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ 1M+ messages/sec –Ω–∞ commodity hardware
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 3: Kafka Use Cases in Banking -->
    <div class="slide" id="slide3">
        <div class="slide-container">
            <div class="slide-content">
                <h2>Kafka Use Cases —É –±–∞–Ω–∫–∞—Ö</h2>
                <h3>–¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</h3>
                <div style="margin: 20px 0;">
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>1. Transaction Processing</h4>
                        <p><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> –û–±—Ä–æ–±–∫–∞ card transactions</p>
                        <ul class="slide-list">
                            <li>POS terminal ‚Üí Kafka ‚Üí Authorization service ‚Üí Fraud detection ‚Üí Settlement</li>
                            <li>Topics: card-transactions, fraud-alerts, settlement-requests</li>
                            <li>Latency: &lt;50ms –¥–ª—è authorization</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>2. Real-time Fraud Detection</h4>
                        <p><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> –í–∏—è–≤–ª–µ–Ω–Ω—è –ø—ñ–¥–æ–∑—Ä—ñ–ª–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π</p>
                        <ul class="slide-list">
                            <li>Kafka Streams –¥–ª—è real-time processing</li>
                            <li>ML models —Å–ø–æ–∂–∏–≤–∞—é—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ</li>
                            <li>Score &gt; threshold ‚Üí alert ‚Üí block transaction</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>3. Event Sourcing –¥–ª—è Audit Trail</h4>
                        <p><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> Immutable history –≤—Å—ñ—Ö –∑–º—ñ–Ω</p>
                        <ul class="slide-list">
                            <li>–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —è–∫ –ø–æ–¥—ñ—ó: AccountCreated, MoneyTransferred, etc.</li>
                            <li>Infinite retention –¥–ª—è compliance</li>
                            <li>Replay –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–ª—è debugging</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>4. Data Synchronization</h4>
                        <p><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> CDC (Change Data Capture)</p>
                        <ul class="slide-list">
                            <li>Debezium connector —á–∏—Ç–∞—î PostgreSQL WAL</li>
                            <li>–†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è –≤ analytical warehouse (Snowflake)</li>
                            <li>Near real-time BI dashboards</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 4: RabbitMQ vs Kafka -->
    <div class="slide" id="slide4">
        <div class="slide-container">
            <div class="slide-content">
                <h2>RabbitMQ vs Apache Kafka</h2>
                <h3>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–≤–æ—Ö –ª—ñ–¥–µ—Ä—ñ–≤ messaging</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.85em;">
                    <tr style="background: var(--color-primary); color: white;">
                        <th style="padding: 10px; border: 1px solid #ddd;">–ö—Ä–∏—Ç–µ—Ä—ñ–π</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">RabbitMQ</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">Apache Kafka</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>–ú–æ–¥–µ–ª—å</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Message Broker (Push)</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Event Log (Pull)</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Throughput</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">20K-50K msg/sec</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">1M+ msg/sec</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Latency</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Microseconds</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Milliseconds</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Retention</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">–í–∏–¥–∞–ª—è—î—Ç—å—Å—è –ø—ñ—Å–ª—è consume</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Configurable (days/forever)</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Routing</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Flexible (exchanges, bindings)</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Simple (topics, partitions)</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Protocol</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">AMQP, MQTT, STOMP</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Custom binary protocol</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Message ordering</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Per queue</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Per partition</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Use case</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Task queues, RPC</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Event streaming, logs</td>
                    </tr>
                </table>
                <div class="alert alert-success">
                    <strong>–í–∏–±—ñ—Ä:</strong> RabbitMQ –¥–ª—è task queues + –Ω–∏–∑—å–∫–æ—ó latency, Kafka –¥–ª—è high-throughput + event sourcing
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 5: Event-Driven Patterns -->
    <div class="slide" id="slide5">
        <div class="slide-container">
            <div class="slide-content">
                <h2>Event-Driven Architecture Patterns</h2>
                <h3>–ö–ª—é—á–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –¥–ª—è –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö —Å–∏—Å—Ç–µ–º</h3>
                <div style="margin: 20px 0;">
                    <div style="background: rgba(100,255,218,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>1. Event Sourcing</h4>
                        <p><strong>–°—É—Ç—å:</strong> –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —ñ—Å—Ç–æ—Ä—ñ—é –∑–º—ñ–Ω, –∞ –Ω–µ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω</p>
                        <ul class="slide-list">
                            <li>–í—Å—ñ –∑–º—ñ–Ω–∏ = immutable events</li>
                            <li>–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω = projection –≤—ñ–¥ –ø–æ–¥—ñ–π</li>
                            <li>–ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –¥–ª—è audit —Ç–∞ debugging</li>
                            <li><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> Account balance = sum(all deposit/withdrawal events)</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,100,100,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>2. CQRS (Command Query Responsibility Segregation)</h4>
                        <p><strong>–°—É—Ç—å:</strong> –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è read —ñ write –º–æ–¥–µ–ª–µ–π</p>
                        <ul class="slide-list">
                            <li>Command side: –æ–±—Ä–æ–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π (write)</li>
                            <li>Query side: –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ read models</li>
                            <li>Eventual consistency —á–µ—Ä–µ–∑ events</li>
                            <li><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> Transaction processing (PostgreSQL) ‚Üí Events ‚Üí Analytics (ClickHouse)</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,255,100,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>3. Saga Pattern</h4>
                        <p><strong>–°—É—Ç—å:</strong> Distributed transactions —á–µ—Ä–µ–∑ compensating actions</p>
                        <ul class="slide-list">
                            <li>Choreography: —Å–µ—Ä–≤—ñ—Å–∏ —Ä–µ–∞–≥—É—é—Ç—å –Ω–∞ –ø–æ–¥—ñ—ó</li>
                            <li>Orchestration: —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä</li>
                            <li>Compensating transactions –¥–ª—è rollback</li>
                            <li><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> Money transfer = DebitAccount + CreditAccount + SendNotification (–∑ rollback –ª–æ–≥—ñ–∫–æ—é)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 6: CQRS Implementation Example -->
    <div class="slide" id="slide6">
        <div class="slide-container">
            <div class="slide-content">
                <h2>CQRS Implementation –≤ –±–∞–Ω–∫—É</h2>
                <h3>–ü—Ä–∏–∫–ª–∞–¥: Transaction Processing + Analytics</h3>
                <div style="margin: 20px 0;">
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px;">
                        <h4>Architecture Flow:</h4>
                        <div style="margin: 15px 0; padding: 15px; background: rgba(100,255,218,0.2); border-left: 4px solid #4ade80; border-radius: 4px;">
                            <p><strong>COMMAND SIDE (Write):</strong></p>
                            <p>Client ‚Üí REST API ‚Üí Command Handler ‚Üí PostgreSQL (normalized) ‚Üí Kafka Event</p>
                        </div>
                        <div style="margin: 15px 0; padding: 15px; background: rgba(255,100,255,0.2); border-left: 4px solid #a855f7; border-radius: 4px;">
                            <p><strong>EVENT STREAM:</strong></p>
                            <p>Kafka Topics: transactions, account-updates, fraud-alerts</p>
                        </div>
                        <div style="margin: 15px 0; padding: 15px; background: rgba(255,255,100,0.2); border-left: 4px solid #f59e0b; border-radius: 4px;">
                            <p><strong>QUERY SIDE (Read):</strong></p>
                            <p>Kafka Consumer ‚Üí Materialized Views ‚Üí ClickHouse/Elasticsearch ‚Üí Analytics API</p>
                        </div>
                    </div>
                    <h4 style="margin-top: 20px;">–ü–µ—Ä–µ–≤–∞–≥–∏:</h4>
                    <ul class="slide-list">
                        <li><strong>–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:</strong> Read —ñ write scale –Ω–µ–∑–∞–ª–µ–∂–Ω–æ</li>
                        <li><strong>Performance:</strong> –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ read models (denormalized)</li>
                        <li><strong>Flexibility:</strong> –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö projections –±–µ–∑ –≤–ø–ª–∏–≤—É –Ω–∞ write side</li>
                        <li><strong>Resilience:</strong> –ó–±—ñ–π analytics –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ transactions</li>
                    </ul>
                </div>
                <div class="alert alert-warning">
                    <strong>Trade-off:</strong> Eventual consistency - read models –º–æ–∂—É—Ç—å –≤—ñ–¥—Å—Ç–∞–≤–∞—Ç–∏ –Ω–∞ 100-500ms
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 7: Saga Pattern Example -->
    <div class="slide" id="slide7">
        <div class="slide-container">
            <div class="slide-content">
                <h2>Saga Pattern: Money Transfer</h2>
                <h3>Distributed transaction –∑ compensating actions</h3>
                <div style="margin: 20px 0;">
                    <h4>Choreography-based Saga:</h4>
                    <div style="margin: 15px 0;">
                        <div style="background: rgba(74,222,128,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Step 1:</strong> Transfer initiated ‚Üí <code>TransferInitiated</code> event
                        </div>
                        <div style="background: rgba(74,222,128,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Step 2:</strong> Account Service —Å–ª—É—Ö–∞—î ‚Üí –¥–µ–±–µ—Ç—É—î –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ ‚Üí <code>AccountDebited</code>
                        </div>
                        <div style="background: rgba(74,222,128,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Step 3:</strong> Account Service ‚Üí –∫—Ä–µ–¥–∏—Ç—É—î –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ ‚Üí <code>AccountCredited</code>
                        </div>
                        <div style="background: rgba(74,222,128,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Step 4:</strong> Notification Service ‚Üí –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î SMS/Push ‚Üí <code>NotificationSent</code>
                        </div>
                        <div style="background: rgba(74,222,128,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Step 5:</strong> <code>TransferCompleted</code> event
                        </div>
                    </div>
                    <h4 style="margin-top: 20px; color: #ef4444;">Compensating Actions (Rollback):</h4>
                    <div style="margin: 15px 0;">
                        <div style="background: rgba(239,68,68,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>–Ø–∫—â–æ Step 3 fails:</strong> Credit failed ‚Üí –ø—É–±–ª—ñ–∫—É—î–º–æ <code>TransferFailed</code>
                        </div>
                        <div style="background: rgba(239,68,68,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Compensate:</strong> Account Service —Å–ª—É—Ö–∞—î ‚Üí refund –¥–µ–±–µ—Ç ‚Üí <code>AccountRefunded</code>
                        </div>
                        <div style="background: rgba(239,68,68,0.2); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>Notify:</strong> Notification Service ‚Üí –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ failure
                        </div>
                    </div>
                </div>
                <div class="alert alert-info">
                    <strong>Key:</strong> –ö–æ–∂–µ–Ω —Å–µ—Ä–≤—ñ—Å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π –∑–∞ —Å–≤–æ—ó compensating actions. –ù–µ–º–∞—î 2PC overhead.
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 8: Async Transaction Processing -->
    <div class="slide" id="slide8">
        <div class="slide-container">
            <div class="slide-content">
                <h2>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π</h2>
                <h3>Patterns –¥–ª—è high-throughput banking</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div>
                        <h4>Synchronous (Traditional):</h4>
                        <div style="background: rgba(239,68,68,0.2); padding: 15px; border-radius: 8px;">
                            <p>Client ‚Üí API ‚Üí Process ‚Üí DB ‚Üí Response</p>
                            <ul style="font-size: 0.9em; margin-top: 10px;">
                                <li><strong>Pros:</strong> Immediate feedback</li>
                                <li><strong>Cons:</strong> Client —á–µ–∫–∞—î, low throughput, coupling</li>
                                <li><strong>Latency:</strong> 200-500ms</li>
                                <li><strong>Max throughput:</strong> ~5K TPS</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <h4>Asynchronous (Event-Driven):</h4>
                        <div style="background: rgba(74,222,128,0.2); padding: 15px; border-radius: 8px;">
                            <p>Client ‚Üí API ‚Üí Kafka ‚Üí Worker ‚Üí DB</p>
                            <ul style="font-size: 0.9em; margin-top: 10px;">
                                <li><strong>Pros:</strong> High throughput, decoupling, resilience</li>
                                <li><strong>Cons:</strong> Eventual consistency, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</li>
                                <li><strong>Latency:</strong> 50-100ms (API response)</li>
                                <li><strong>Max throughput:</strong> 100K+ TPS</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <h4 style="margin-top: 20px;">Hybrid Approach:</h4>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                    <ul class="slide-list">
                        <li><strong>–ö—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:</strong> Synchronous (e.g., card authorization - must be &lt;50ms)</li>
                        <li><strong>Batch –æ–ø–µ—Ä–∞—Ü—ñ—ó:</strong> Asynchronous (e.g., statement generation, reporting)</li>
                        <li><strong>Notifications:</strong> Asynchronous (e.g., SMS, email, push)</li>
                        <li><strong>Analytics:</strong> Asynchronous (e.g., fraud detection, recommendations)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 9: Real-World Banking Example -->
    <div class="slide" id="slide9">
        <div class="slide-container">
            <div class="slide-banking-example">
                <div class="banking-logo">üè¶</div>
                <div class="banking-title">–ö–µ–π—Å: Goldman Sachs - Kafka Migration</div>
                <h3>–í—ñ–¥ Legacy ESB –¥–æ Event-Driven Architecture</h3>
                <div style="margin: 20px 0;">
                    <h4>–ü—Ä–æ–±–ª–µ–º–∞ (Before):</h4>
                    <ul class="slide-list">
                        <li>Legacy ESB (Enterprise Service Bus) –Ω–µ —Å–ø—Ä–∞–≤–ª—è–≤—Å—è –∑ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º</li>
                        <li>Throughput: 10K transactions/sec (peak demand: 100K+)</li>
                        <li>Monolithic coupling –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏</li>
                        <li>Downtime ESB = downtime –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤</li>
                    </ul>
                    <h4 style="margin-top: 20px;">–†—ñ—à–µ–Ω–Ω—è (After):</h4>
                    <ul class="slide-list">
                        <li>–ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ Apache Kafka (2019-2021)</li>
                        <li>300+ Kafka topics –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö event types</li>
                        <li>Kafka Connect –¥–ª—è CDC (Change Data Capture)</li>
                        <li>Kafka Streams –¥–ª—è real-time processing</li>
                    </ul>
                    <h4 style="margin-top: 20px;">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                    <div class="slide-statistics">
                        <div class="stat-item">
                            <div class="stat-value">10x</div>
                            <div class="stat-description">Throughput –∑–±—ñ–ª—å—à–µ–Ω–æ</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">99.99%</div>
                            <div class="stat-description">Availability</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">-60%</div>
                            <div class="stat-description">Latency –∑–º–µ–Ω—à–µ–Ω–æ</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">40%</div>
                            <div class="stat-description">Cost savings</div>
                        </div>
                    </div>
                </div>
                <div class="alert alert-success">
                    <strong>–í–∏—Å–Ω–æ–≤–æ–∫:</strong> Event-driven architecture –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è high-frequency trading —Ç–∞ real-time banking
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 10: Delivery Guarantees -->
    <div class="slide" id="slide10">
        <div class="slide-container">
            <div class="slide-content">
                <h2>Message Delivery Guarantees</h2>
                <h3>At-most-once vs At-least-once vs Exactly-once</h3>
                <div style="margin: 20px 0;">
                    <div style="background: rgba(239,68,68,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>At-most-once (Fire and Forget)</h4>
                        <p><strong>–ì–∞—Ä–∞–Ω—Ç—ñ—è:</strong> Message –º–æ–∂–µ –±—É—Ç–∏ –≤—Ç—Ä–∞—á–µ–Ω–æ, –∞–ª–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –¥—É–±–ª—é—î—Ç—å—Å—è</p>
                        <ul class="slide-list">
                            <li>Producer –Ω–µ —á–µ–∫–∞—î acknowledgment</li>
                            <li>–ù–∞–π—à–≤–∏–¥—à–µ, –∞–ª–µ –Ω–µ–Ω–∞–¥—ñ–π–Ω–µ</li>
                            <li><strong>Use case:</strong> Metrics, logs (non-critical data)</li>
                        </ul>
                    </div>
                    <div style="background: rgba(251,191,36,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>At-least-once (Default —É Kafka)</h4>
                        <p><strong>–ì–∞—Ä–∞–Ω—Ç—ñ—è:</strong> Message —Ç–æ—á–Ω–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, –∞–ª–µ –º–æ–∂–µ –¥—É–±–ª—é–≤–∞—Ç–∏—Å—å</p>
                        <ul class="slide-list">
                            <li>Producer —á–µ–∫–∞—î ack, retry —É –≤–∏–ø–∞–¥–∫—É failure</li>
                            <li>Consumer –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ idempotent</li>
                            <li><strong>Use case:</strong> –ë—ñ–ª—å—à—ñ—Å—Ç—å banking operations –∑ idempotency keys</li>
                        </ul>
                    </div>
                    <div style="background: rgba(74,222,128,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h4>Exactly-once (Kafka Transactions)</h4>
                        <p><strong>–ì–∞—Ä–∞–Ω—Ç—ñ—è:</strong> Message –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ —Ä—ñ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑</p>
                        <ul class="slide-list">
                            <li>Kafka transactions (enable.idempotence=true)</li>
                            <li>–ù–∞–π–ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ —á–µ—Ä–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—é</li>
                            <li><strong>Use case:</strong> Financial transactions, payment processing</li>
                        </ul>
                    </div>
                </div>
                <div class="alert alert-warning">
                    <strong>Banking reality:</strong> At-least-once + idempotency keys = –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π exactly-once
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 11: Reliability Patterns -->
    <div class="slide" id="slide11">
        <div class="slide-container">
            <div class="slide-cyber-security">
                <h2>Reliability —Ç–∞ Resilience Patterns</h2>
                <h3>–ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ messaging —Å–∏—Å—Ç–µ–º</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div>
                        <h4>Retry Strategies:</h4>
                        <ul class="slide-list">
                            <li><strong>Exponential backoff:</strong> 1s, 2s, 4s, 8s...</li>
                            <li><strong>Max retry attempts:</strong> 3-5 —Å–ø—Ä–æ–±</li>
                            <li><strong>Dead Letter Queue:</strong> failed messages –æ–∫—Ä–µ–º–æ</li>
                            <li><strong>Circuit breaker:</strong> stop retry —è–∫—â–æ downstream down</li>
                        </ul>
                    </div>
                    <div>
                        <h4>Monitoring & Alerting:</h4>
                        <ul class="slide-list">
                            <li><strong>Consumer lag:</strong> alert —è–∫—â–æ &gt; 1000 messages</li>
                            <li><strong>Error rate:</strong> alert —è–∫—â–æ &gt; 1%</li>
                            <li><strong>Throughput:</strong> anomaly detection</li>
                            <li><strong>Partition rebalancing:</strong> track frequency</li>
                        </ul>
                    </div>
                </div>
                <h4 style="margin-top: 20px;">High Availability Setup:</h4>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <ul class="slide-list">
                        <li><strong>Kafka cluster:</strong> 3-5 brokers –º—ñ–Ω—ñ–º—É–º</li>
                        <li><strong>Replication factor:</strong> 3 (tolerates 2 broker failures)</li>
                        <li><strong>Min in-sync replicas:</strong> 2 (–≥–∞—Ä–∞–Ω—Ç—É—î durability)</li>
                        <li><strong>Rack awareness:</strong> —Ä–æ–∑–ø–æ–¥—ñ–ª brokers –ø–æ AZ</li>
                        <li><strong>Multi-region replication:</strong> –¥–ª—è disaster recovery</li>
                    </ul>
                </div>
                <div class="cyber-threat-level threat-low">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è = 99.99% availability</div>
            </div>
        </div>
    </div>

    <!-- Slide 12: –ü—ñ–¥—Å—É–º–∫–∏ -->
    <div class="slide" id="slide12">
        <div class="slide-container">
            <div class="slide-content">
                <h2>–ü—ñ–¥—Å—É–º–∫–∏: Message Queues —Ç–∞ EDA</h2>
                <h3>–ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏</h3>
                <ul class="slide-list">
                    <li><strong>Kafka vs RabbitMQ:</strong> Kafka –¥–ª—è high-throughput + event sourcing, RabbitMQ –¥–ª—è task queues</li>
                    <li><strong>Apache Kafka –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:</strong> Producers, Brokers, Consumers, Topics/Partitions</li>
                    <li><strong>Event-Driven patterns:</strong> Event Sourcing, CQRS, Saga –¥–ª—è distributed transactions</li>
                    <li><strong>CQRS –ø–µ—Ä–µ–≤–∞–≥–∏:</strong> –ù–µ–∑–∞–ª–µ–∂–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è read/write, –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ projections</li>
                    <li><strong>Saga pattern:</strong> Choreography –∞–±–æ Orchestration –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π</li>
                    <li><strong>Async processing:</strong> 10-20x –≤–∏—â–µ throughput –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ synchronous</li>
                    <li><strong>Goldman Sachs –ø—Ä–∏–∫–ª–∞–¥:</strong> 10x throughput –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–∞ Kafka</li>
                    <li><strong>Delivery guarantees:</strong> At-least-once + idempotency = –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π exactly-once</li>
                    <li><strong>Reliability –∫—Ä–∏—Ç–∏—á–Ω–∞:</strong> Replication factor 3+, min ISR 2, monitoring –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π</li>
                </ul>
                <div class="alert alert-success">
                    <h4>–ù–∞—Å—Ç—É–ø–Ω–∞ —Ç–µ–º–∞:</h4>
                    <p>API Security: OAuth 2.0, JWT —Ç–∞ OWASP API Security Top 10</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let currentSlide = 1;
    const totalSlides = 12;

    function showSlide(n) {
        const slides = document.querySelectorAll('.slide');
        const progressBar = document.getElementById('progressBar');
        const counter = document.getElementById('slideCounter');

        if (n > totalSlides) currentSlide = 1;
        if (n < 1) currentSlide = totalSlides;

        slides.forEach(slide => slide.classList.remove('active'));
        document.getElementById(`slide${currentSlide}`).classList.add('active');

        progressBar.style.width = (currentSlide / totalSlides * 100) + '%';
        counter.textContent = `${currentSlide} / ${totalSlides}`;
    }

    function nextSlide() {
        currentSlide++;
        showSlide(currentSlide);
    }

    function previousSlide() {
        currentSlide--;
        showSlide(currentSlide);
    }

    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
        } else {
            document.exitFullscreen();
        }
    }

    function exitPresentation() {
        window.location.href = 'index.html';
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        switch(e.key) {
            case 'ArrowRight':
            case ' ':
                nextSlide();
                break;
            case 'ArrowLeft':
                previousSlide();
                break;
            case 'Escape':
                exitPresentation();
                break;
            case 'f':
            case 'F':
                toggleFullscreen();
                break;
            case 'Home':
                currentSlide = 1;
                showSlide(currentSlide);
                break;
            case 'End':
                currentSlide = totalSlides;
                showSlide(currentSlide);
                break;
        }
    });

    // Touch events for mobile
    let startX = null;
    document.addEventListener('touchstart', function(e) {
        startX = e.touches[0].clientX;
    });

    document.addEventListener('touchend', function(e) {
        if (!startX) return;

        const endX = e.changedTouches[0].clientX;
        const diffX = startX - endX;

        if (Math.abs(diffX) > 50) {
            if (diffX > 0) {
                nextSlide();
            } else {
                previousSlide();
            }
        }
        startX = null;
    });

    // Initialize
    showSlide(1);

    // Save progress
    function saveProgress() {
        try {
            const progress = {
                currentSlide: currentSlide,
                totalSlides: totalSlides,
                timestamp: new Date().toISOString(),
                topic: 'Message Queues and Event-Driven Architecture'
            };
            localStorage.setItem('lecture_2_2_tema2_progress', JSON.stringify(progress));
        } catch(e) {
            console.log('Could not save progress');
        }
    }

    // Load progress
    function loadProgress() {
        try {
            const saved = localStorage.getItem('lecture_2_2_tema2_progress');
            if (saved) {
                const progress = JSON.parse(saved);
                if (progress.currentSlide) {
                    currentSlide = progress.currentSlide;
                    showSlide(currentSlide);
                }
            }
        } catch(e) {
            console.log('Could not load progress');
        }
    }

    window.addEventListener('beforeunload', saveProgress);
    loadProgress();
</script>
</body>
</html>
